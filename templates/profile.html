<!-- templates/profile.html -->

<!DOCTYPE html>
<html>
<head>
    <title>{{ trainer.name }} íŠ¸ë ˆì´ë„ˆ í”„ë¡œí•„</title>
    <style>
        .trainer-intro {
            white-space: pre-line;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <section class="trainer-info" style="margin-bottom: 40px;">
        <h2>{{ trainer.tname }} íŠ¸ë ˆì´ë„ˆ</h2>
        <img src="{{ url_for('static', filename='images/' + trainer.image_url) }}" alt="í”„ë¡œí•„ ì´ë¯¸ì§€" width="200">

        <h3>ì†Œê°œ</h3>
        <p class="trainer-intro">{{ trainer.introduce }}</p>

        <h3>ê²½ë ¥</h3>
        <p>{{ trainer.experience }}ë…„</p>

        <h3>ì „ë¬¸ ë¶„ì•¼</h3>
        <p>{{ trainer.specialty }}</p>

        {#
        <h3>íšŒì› í†µê³„</h3>
        <h4>ì—°ë ¹ë³„</h4>
        <ul>
            {% for age, count in trainer.stats.age.items() %}
                <li>{{ age }}: {{ count }}ëª…</li>
            {% endfor %}
        </ul>
 
        <h4>ì„±ë³„</h4>
        <ul>
            {% for gender, count in trainer.stats.gender.items() %}
                <li>{{ gender }}: {{ count }}ëª…</li>
            {% endfor %}
        </ul>
        #}

        <hr>
        <form action="/consult" method="get">
            <input type="hidden" name="trainer_id" value="{{ trainer_id }}">
            <button type="submit">ğŸ’¬ ìƒë‹´ ì‹ ì²­í•˜ê¸°</button>
        </form>

        <hr>
        {% if is_admin %}
            <button onclick="alert('ìˆ˜ì •í•˜ê¸°')">í”„ë¡œí•„ ìˆ˜ì •</button>
        {% endif %}
    </section>

    <!-- í›„ê¸° -->
    <section class="review-summary">
        <p>í›„ê¸° â­{{ avg_rating }} (ì´ {{ review_count }}ê°œì˜ ë¦¬ë·°)</p>
        <!-- ì¶”í›„ ì •ë ¬ ê¸°ëŠ¥ êµ¬í˜„ ì‹œ -->
        <!-- í•„í„° ë²„íŠ¼ ìë¦¬ ì˜ˆì•½ -->
    </section>

    <section class="review-form" style="margin-bottom: 40px;">
        <hr>
        <h4>ë¦¬ë·° ì‘ì„±í•˜ê¸°</h4>
        <form method="POST">
            <div class="form-group">
                <label>ë³„ì :
                    <select name="rating">
                        <option value="5">5ì </option>
                        <option value="4">4ì </option>
                        <option value="3">3ì </option>
                        <option value="2">2ì </option>
                        <option value="1">1ì </option>
                    </select>
                </label>
            </div>

            <div class="form-group">
                <label>í›„ê¸°:</label><br>
                <textarea name="review" rows="4" cols="50" required></textarea><br><br>
            </div>

            <!-- ì‚¬ì§„ ì—…ë¡œë“œëŠ” ë‚˜ì¤‘ì— êµ¬í˜„ ì˜ˆì • -->
            <!-- <input type="file" name="image"> -->

            <button type="submit">ë¦¬ë·° ë“±ë¡</button>
        </form>
    </section>

    <section class="review-list">
        <br>
        {% for review in reviews %}
            <div style="border:1px solid #ccc; padding:10px; margin-bottom:10px;">
                <p>ì‘ì„±ì: {{ review.login_id }}</p>
                <p>â­ {{ review.rating }}</p>
                <p>{{ review.comment }}</p>
            </div>
        {% endfor %}
    </section>

</body>
</html>
